- switches to enable/disable specific reaction wheels? LV(launch vehicle)/VESSEL(vessel)/POD(pod) 
- switches to enable/disable specific RCS thrusters? LV/POD
- science bay doors
- utility bay doors

- NAV REF -> SPD REF, with selector

- when and how to use korrys VS switches?
	- primary rule: light things up only if the pilot should look at it  
	- korry: 
		-> to show both the on/off state and some other information on a single place.
		-> when momentary action is preferred
		-> when the on/off state should be quickly visible
		-> or, *if if's a toggle action*, only when a switch guard is not necessary
		- consider default-on korrys?
			- in airbus/boeing overhead panels, most korry lights should be off _during normal operation_
				- facilitate quick visual scan for anomalies
				- startup: extinguish all OFF lights
			- what is _normal operation_ in KSP?
				- most things are ON by default
		- what other information?
			- FAULT
			- AVAIL
			- ACTY?


	- switches: only on/off state, other information elsewhere, or not necessary
		- use for things that are immediately visible
		- use when toggle operation is necessary and state should be guarded
    
    - by function:
    	- Thrust limiter
    		- only LIMIT is interesting
    		- OFF / [LIMIT] 
    		- --- / [LIMIT] 
    	- Lock engine gimbal
    		- FREE / [LOCK]
    		- FREE is normal operation
    	- SAS/RCS masters: probably a korry, but toggle action could work
    		- either ON or OFF could be considered normal operation 
    		- probably a ON-lit korry, maybe combined with an activity indicator or a ON/OFF korry
    			- [ON] / ACTY
    			- [ON] / OFF
    		- RCS master for the launch vehicle is useless since it's always on
    		- "vessel reaction wheel control", or "VSL TORQUE", "VSL RCS"
    			- toggle action: switch to ON after stage 1 sep, leave alone after

    	- Individual reaction wheels / RCS controls
    		- OFF is alternate operation
    		- ON / [OFF]
    	- Landing legs deploy mode
    		- auto or manual
    		- MANUAL / [AUTO]
    	- Gear up/down: toggle action
    	- Solar panels: toggle action
    		- korry: [DEPLOY]/FAULT
    	- Radiators: toggle action
    		- korry: [DEPLOY]/FAULT
    	- Undock: guarded toggle action
    		- undocking is momentary -> should be a guarded push button
    	- Cabin lights: toggle action
    	- Ext lights: toggle action
    	- Brake: toggle action
    	- Fairing: guarded toggle action
    	- Fuel cell: 
    		- apollo-style: switch
    		- airbus-style: korry with default OFF
    	- RAPIER mode
    		- toggle action
    		- korry: CLOSED/AIR ?


    - mix both
    	- choose arbitrarily, because both can work for toggle action

 	- depends on the quality of the prototype korry
 		- if not good or too expensive, fallback to 737-style overhead panel (toggle switches + backlit indicators)

 	- find more uses of korrys outside of the overhead panels
 	- the space shuttle cockpit doesn't use korrys at all (or single-light)


- ELEC
	- FUEL CELL
		- FAULT/ON
	- SOLAR PANEL
		- Several options:
		- UNLK/ON | FAULT
		- FAULT/ON | UNLK
- THERMAL
	- RADIATORS 
		- FAULT/ON | UNLK
- LIGHTS
	- CABIN
	- EXT
- DOCKING
	- UNDOCK ARM
	- UNDOCK (guarded switch)
- FAIRING
	- DEPLOY (guarded switch)
- FUEL TRANSFER
	- LF/OX
		- FLOW (LOAD/DUMP)
		- PUMP (guarded switch)
	- MONOPROP
		- FLOW 
		- PUMP ON/OFF (guarded switch)
- CHUTES
	- ARM 
	- DEPLOY 

__________________________________________________________________________

List of controls

ANTENNA    RETRACT/DEPLOY   [switch]
SOLAR      RETRACT/DEPLOY   [switch]
RADIATOR   RETRACT/DEPLOY   [switch]

REACT WHEEL LV     ON/OFF  [switch]
REACT WHEEL VESSEL ON/OFF  [switch]


SAS ON/OFF  [korry] -- ON/ACTY
RCS ON/OFF  [korry] -- ON/ACTY

FUEL TRANSFER F/OX     TANK/EXT/OFF [selector]
FUEL TRANSFER MONOPROP TANK/EXT/OFF [selector]

ENGINE MODE AIR/VACUUM [switch]
THRUST LIMITER [selector]
GIMBAL LOCK    [switch]

BRAKE ON/OFF [korry]

LDG GEAR UP/DOWN [switch]
LDG GEAR UNLK    [indicator]
LDG GEAR DN      [indicator]

CHUTES ARM     [indicator]
CHUTES DEPLOY  [guarded switch]
CHUTES CUT     [guarded switch]
FAIRING DEPLOY [switch]

UNDOCK [guarded switch]
ABORT  [guarded switch]
DOCK SHIELD  OPEN/CLOSE [switch]

EXT LIGHTS 1 ON/OFF [switch]
EXT LIGHTS 2 ON/OFF [switch]
CABIN LIGHTS ON/OFF [switch]

RADIATOR    [fault indicator]
CONTACT     [indicator]

THRUST MAX [push button]
THRUST CUT [push button]

FUEL CELL    ON/FAULT [korry]
ALTERNATOR   ON/FAULT [korry]
SOLAR PANELS OFF/FAULT [korry]
BATT         OFF/FAULT [korry]
EMER BATT    ON/FAULT [korry]

EMER MONOPROP ON/FAULT [korry]
EMER FUEL     ON/FAULT [korry]

CTL MODE     NORM/DOCK [korry]

HATCH OPEN/CLOSE

__________________________________________________________________________

Indicators:

CONTACT       [green]
PROP LOW
MONOPROP LOW
CHARGE
OVERHEAT
HIGH G
UPLINK

GEAR DOWN (next to toggle)
GEAR FAULT

REACT WHEEL ACTY

__________________________________________________________________________

Guidelines:
- for lights => switches
- for power-related functions => switches
- for functions with associated caution and warning / fault state => korry

In real cockpits, korry are used to signal an "abnormal" state: faults, but also things that shouldn't be ON during normal operation, or that should be temporary.
In KSP I don't think there's such a thing as "normal operation".
-> basically advanced stuff, mostly electrical
- Maybe fuel cells? enabled by default, but can be shut off
- Same for alternators
- Button to cut off solar power
- Two buttons to enable batteries
- Fuel jettison?
- Thrust limiter?
- emergency monoprop/fuel reserves
- SAS?
	- should SAS OFF be considered "abnormal operation"? no

__________________________________________________________________________

Components:

Better toggles:
https://www.nkkswitches.com.hk/products/Toggles/Toggles%20S/S21AL/

Possible Korry guards:
- NKK AT499
- NKK AT4171
- NKK AT4173
- AML AML76C10TO1P

Otto flip guards: https://www.otto-controls.com/fg-flip-guards-for-pushbutton-switches-2

Backlit 7-segment LCDs:
https://www.hoytmeter.com/hlpi-3e-series-lcd-digital-panel-meter.html , but cheaper, obviously

Rotary selectors:
- ideally, two 90° 3T selectors
- 5x 30° selectors (probably RS25, anything works, but preferably 4P3T/3P4T)

Laserables:
https://www.hindleys.com/laser-engraving-laminate.html
https://kitronik.co.uk/collections/perspex-acrylic-sheets/products/laminates
https://hobarts.com/collections/laminate

"Reverse laminate" for the korrys
https://www.908ltd.co.uk/shop/reverse-laser-engraving-laminate/gloss-clear-black

https://vink.fr/perspex-spectrum-led-opale-1tl1-tl36-3050x2030x3-mm.html
https://www.decoupe-plexi-sur-mesure.com
https://www.innograv.com/en/engraving-materials/laser-engraving-materials

__________________________________________________________________________

Panels by priority:

Priority 1:
- SAS/RCS
- Staging
- Landing legs, chutes
- Attitude select
- Thrust lever

Priority 2:
- Joystick
- Brakes
- Abort
- Solar/radiator/fuel cells

Priority 3:
- Lights
- Engine
- Display
- Maneuver
- Reaction wheels 



__________________________________________________________________________

Landing: 

- LDG LEGS: flip switch 
- UNLK indicator lights up
- when the legs are fully deployed, the DOWN indicator lights up
- SUSP: flip switch to "LOCK"



__________________________________________________________________________

Docking/undocking procedure:

Option A:
On approach:
- indicator lights up when docked
- set control mode to docking
Undocking:
- arm undocking
	-> undocking button lights up
- raise button guard
- push button
	-> button light goes off


Option B:

__________________________________________________________________________

Using korrys:
Whenever it's important to have a visual feedback next to the button:
- thrust limiter enabled
- SAS/RCS
- control mode (precise/normal)
- brakes

__________________________________________________________________________


Indicators:
	SAS
	RCS
	RCS ACTY
	REACT WHEEL ACTY
	GIMBAL ACTY

ATTITUDE
	SAS ON / OFF
	<attitude buttons>

RCS MASTER ON / OFF [enables all RCS thrusters]

REACT WHEELS
	LV  ON OFF
	VSL ON OFF

ENGINE
	THRUST LIMIT ON / OFF
	GIMBAL LIMIT ON / OFF
	MODE   AIR / VAC

WARP
	SKIP TO MNVR
	RESET
	+/-


__________________________________________________________________________

Maneuver / autopilot panel:

In-game maneuver:
- go to map mode

With controller - maneuver panel:
- push NODE to display next node params on DISP1+2
(- push & hold TAP/TPE/TDN/TAN to set maneuver time to Tap/etc.)
- push ORB+/ORB- to adjust orbit
- rotate time knob to adjust time
- rotate knob to adjust scale
- push buttons to select direction
- rotate/push knob to adjust DV
- press CLEAR to delete maneuver node


Issue: would like to see both Ap/Pe and DV during maneuver input
Q: Maybe remove maneuver input for now? Complicated to input by hand (pick time, add orbits, ...)
A: not sure, would like the rotarys on the navigation panel

Display:
- TAp, TPe, Ap, Pe, Encounter
- Maneuver indicator
- Button to switch displays:
	- TAp/TPe (MNVR active: no display)
	- Ap/Pe   (MNVR: set time)
	- AN/DN   (MNVR: set time)
	- Intercept distance
	- Intercept time
	- Time to node
- Orientation indicator 

Display 1 (time):
- Tap, Tpe, Tint1, Tint2, Tnode, MET, Tan, Tdn
- Node indicator

Display 2 (orbital parameters & speed)
- AP, PE, Speed, AN, DN
- speed ref (SURF/ORB/TGT)

__________________________________________________________________________

MFD Displays

2x 4 in square display (https://shop.pimoroni.com/products/hyperpixel-4-square?variant=30138251477075) 


Panel construction:
https://forum.dcs.world/topic/210303-making-panels-project-log
https://forum.dcs.world/topic/211246-the-toggle-switch-box/

Panels:
https://github.com/jrsteensen/OpenHornet

Custom LCDs? maybe in the future:
https://www.yaoyulcd.com/custom_lcd_get_quote.html
__________________________________________________________________________

Idea: group by frequency of usage

## Components that have a possible failure state:
- antennae
- solar panels
- radiators

## Actions that can be done automatically by staging:
- fairing deploy
- engine arm
- stage sep
- tower jett
Those should be buttons

## "Mission actions": non-reversible states
- Undocking
- Tower jett


Attitude group:
* SAS ON/OFF
* RCS MASTER ON/OFF
* Attitude selection korrys	
	* HOLD
	* NODE
	* ...

Navigation group:
* Two or three MFDs (backlit 7-segment LCDs): 
	* Time display: time to apo/peri/node, mission clock
	* Distance/speed display 
* The whole group can be put in "node" mode, in which the displays 
display the parameters of the next maneuver
	* Activates maneuver inputs

Display group:
* Current camera mode
* Time warp controls

Deployment group:
* antenna deploy (breakable): korry OFF|FAULT
* solar panel deploy (breakable): korry OFF|FAULT
* radiator deploy (breakable): korry OFF|FAULT
* hatch open: toggle



Staging group:
* Arm (guarded toggle)
* Stage (backlit button) 

Abort group:
* Abort (guarded button or toggle)

Docking group:
* Docking controls
	* Docking SAFE/ARM
	* Undock button
* Fuel transfer (korry or 3-way switches)

Time warp group:


Node group:


Landing group:
* Landing legs / gear
	* GEAR UP / DOWN switch
	* Possibly an indicator next to it (UNLK/DOWN?)
* BRAKE ON / OFF TOGGLE
* CHUTES MAN ARM / SAFE
* Deploy chutes

Throttle group:
* throttle
	* what kind of control?
	* probably rotary + 7 seg display
* cut

Display group:
* Show map

Control group:
* Fine controls ON/OFF
* Docking mode

Lights and action groups:
* toggle switches


Engine group (optional):
* engine shutdown: korry OFF/ON
* AIR/VACUUM mode (for RAPIER)

Misc:
* trim
* camera select
 	

Adv attitude control (optional, extension):
* per-stage react wheel enable/disable
* per-stage RCS thruster enable/disable
* engine gimbal lock / gimbal limit / thrust limiter

Adv: electrical:
* alternators
* fuel cells
* solar panels
* batteries

Adv: engine
* master engine arm/shutdown 

__________________________________________________________________________

Issue with toggle switches: resetting is impossible.

For example, after reverting to launch pad, the SOLAR/ANTENNA/etc. buttons (resettable actions) should go back to their OFF positions, but it's impossible to do so automatically.

List of resettable actions:
- landing gear should reset automatically to retracted (don't want the gear to automatically extend on mission start)
- hatch
- solar panels
- radiators
- antenna

Static actions:
- lights
- brake (maybe)
- chutes manual (no equivalent in game, so OK)
- SAS/RCS toggles
- fine control
- docking control

Options:
- use korrys instead
- have the user cycle the toggle switch
- momentary toggle switches 



__________________________________________________________________________

Module placement guidelines:

Display and indicators closer to the screen (on top):
- displays
- caution & warning
- attitude
- warp, map display

Joysticks to the side, shouldn't hide the displays ()

__________________________________________________________________________

Scenario: docking with station

1. Switch SAS ON and RCS ON
	- Toggle ATTITUDE / SAS / ENABLE - SAS indicator lit
	- Check RCS MASTER / DISABLE - RCS indicator unlit
2. Switch vessel reaction wheels OFF
	- Toggle REACT WHEELS / VSL / OFF
3. Enable gimbal limit
	- Toggle ENGINE / GIMBAL LIMIT 
4. Throttle up
	- Spin target throttle %
5. Start first stage
	- Toggle STAGE / ARM
	- Press STAGE button 
		- THRUST indicator lit
		- SAS ACTY blinking
		- GIMBAL ACTY blinking
	- after a while: PROP LOW warning
6. Second stage
	- MASTER CAUTION lit
	- FLAMEOUT lit
	- Press STAGE button
7. Manual fairing deploy - safing
	- (Optional) Switch TWR JETT to MAN / Press TWR JETT
	- Switch FAIRING to MAN
	- Press FAIRING / DEPLOY MAN
	- Switch STAGE / SAFE
	- Switch SOLAR / DEPLOY
	- Switch RADIATOR / DEPLOY
	- Switch REACT WHEELS / VSL / ON
8. Circularization
	- Press MAP button
	- Scroll MANEUVER / TIME to create and adjust time of manueuver
	- Scroll MANEUVER / {PROGRADE,NORMAL,RADIAL}
	- Confirm by pressing a button
9. Skip to next maneuver
	- Press WARP / SKIP TO MNVR
	- Press ATTITUDE / MNVR
	- Wait 
	- Full throttle
	- Cut throttle button
10. Manual engine test
	- Set ENGINE / MAN 
	- Throttle up
	- Set ENGINE / AUTO
11. Rendezvous
	- Set target

12. Docking
	- Toggle SAS OFF
	- Docking: "control from here"
		- Push PORT CTRL REF - lights up
	- Use joysticks to control translation and rotation
	- When docked:
		- PORT CTRL REF switches off automatically
		- DOCKING indicator lights up
		- Toggle DOCKING to SAFE

13. Fuel transfer
	- Rotate FUEL TRANSFER / F/OX to TANK or EXT
	- Rotate FUEL TRANSFER / MONOPROP to TANK or EXT
	- Press button to initiate fuel transfer (FUEL TRANSFER / AVAIL/ON)
		- not a switch because fuel transfer stops automatically
	- FUEL TRANSFER indicator lights up

14. Undocking:
	- Toggle DOCKING to ARM
	- Press UNDOCK button

15. Deorbit
	- Press ATTITUDE / RETRO
	- Throttle up

16. Manual parachute
	- Switch PARACHUTES to MAN
		- DEPLOY button lights up
	- Press PARACHUTES / DEPLOY


Scenario: descent & landing
- Altitude ref LAND
- SAS ON, ATTITUDE STAB
- Powered descent
- Switch GEARS DOWN
	- Gear UNLK indicator lights up while the landing gear is being deployed
- CONTACT lights up
- Cut thrust
- ENGINE ARM OFF
- Switch BRAKES ON - BRAKES indicator lights up

Scenario: ascent
- ENGINE ARM AUTO
- Throttle up
- (Press GEAR UNLK indicator?)
- Switch GEAR UP


__________________________________________________________________________

Dimensions:

- toggle switch mounting hole: 12mm dia
- toggle switch bolt hole: 16mm dia
- toggle switch guard size: 18x43mm
- toggle top opening: 12mm

- illuminated button mounting hole: 16mm
- korry opening: 18.2mm square
- korry size: 17x17mm

- standard panel height: 3.5in (88.9mm)

- panel round corners radius: 5mm 

- panel inner round corners: 4mm


Rail size: 529mm (104HP)

Font:
Futura Std Heavy Mod with 1px letter spacing at 16pt

Panel dimensions (https://intellijel.com/support/1u-technical-specifications):

                              Front Panel    Clear space   Hole-to-hole
Eurorack 3U					: 128.5mm        110mm         122.5mm
Eurorack 2U (not standard)	: 84.05mm        ??            78.05mm
Eurorack 1U					: 39.65mm        22.5mm        33.65mm

Rack unit to panel size        : H-4.85mm  (?)
Rack unit to hole-to-hole size : H-10.85mm (?)

Screw hole diameter         : 3.2mm
Screw hole center edge dist : 3.0mm

PCB hole pitch: 2.54mm
Minimum korry button separation: 8 holes, 20.32mm (0.8in)

!!! Don't project anything other than points between drawings, it results in discontinuous curves
when exporting to DXF (https://forums.autodesk.com/t5/fusion-360-design-validate/projected-line-segments-not-connected/m-p/6990538#M106144)
__________________________________________________________________________

Design resources:

https://aerodynamix.com/edge-lit-panels-and-overlays/
https://www.astronics.com/product?productgroup=Lighting%20Systems&subproduct=cockpit%20controls%20%26%20panels
https://www.aviationtoday.com/2013/03/01/system-design-effective-avionics-backlighting/